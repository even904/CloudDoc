---
author: [Even]
date: [2025年10月20日]
update: [2025年10月20日]
title: [【计算机网络】4 网络层：数据平面]
tags: [计算机网络, 网络层, 数据平面]
---

# 4 网络层：数据平面

## 4.1 导论

- 传统方法：基于目标地址匹配路由表，对分组作转发
- 流表：由集中式网络操作系统计算出来通过南向接口交给分组交换设备
- SDN(Software-Defined Networking)
    - 基于多个字段+流表
    - 流表匹配
    - 操作
        - 转发
        - 阻止(Block)
        - 泛洪(Flood)
        - 修改某些字段
- 转发：数据平面功能
- 路由：控制平面功能
- SDN是逻辑集中的控制平面，可远程操作
- 远程控制器与本地控制代理(CAs)交互
- 网络**服务模型**
    - 对单个数据报
        - 可靠传送
        - 延迟保证，如小于40ms延迟
    - 对数据报流
        - 是否保序的数据报传送
        - 保证流的最小带宽
        - 分组之间的延迟差

| 网络架构 | 服务模型 | 带宽 | 丢失 | 保序 | 延迟 | 拥塞反馈 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| **传统互联网 (IP)** | 尽力而为 (Best-Effort) | 不保证。共享链路，带宽随网络负载动态变化。 | 不保证。数据包可能因队列溢出等原因丢失。 | 不保证。分组可能通过不同路径或因重传而乱序到达。 | 不保证。延迟和抖动（延迟变化）可能很大且不可预测。 | 无显式反馈。依赖上层协议（如TCP）通过超时和丢包推断拥塞。 |
| **ATM (异步传输模式)** | 面向连接的虚电路 (Virtual Circuit) | 保证。建立连接时根据服务类别（如CBR, VBR）协商并保证带宽。 | 低且有界。网络承诺在约定参数内极低的丢失率。 | 保证。属于同一虚电路的信元按序交付。 | 保证。根据服务类别（如CBR, rt-VBR）提供有界的延迟和低抖动。 | 有显式反馈。使用信令（如RM信元）进行拥塞控制，可通知发送方降低速率。 |
| **MPLS (多协议标签交换)** | 基于标签的转发 (Label-Switched Path) | 可保证。可通过流量工程和约束路由预留带宽，提供服务等级协议（SLA）。 | 可控。通过优先级队列和资源预留，可将关键流量的丢失率降至最低。 | 保证。属于同一LSP（标签交换路径）的数据包按序转发。 | 可管理。结合DiffServ可提供低延迟、低抖动的转发，支持流量工程优化路径。 | 间接反馈。本身不直接提供，但常与DiffServ或RSVP-TE结合，通过协议机制响应拥塞。 |
| **区分服务 (DiffServ)** | 分类与优先级标记 (Class-based) | 不保证绝对带宽。提供相对优先级，高优先级流量在拥塞时获得更多带宽。 | 不保证。但高优先级流量（如EF）的丢失率远低于尽力而为流量。 | 不保证。即使在同一服务等级内，也可能因并行路径而乱序。 | 不保证绝对延迟。但高优先级流量（如EF）享有最低延迟和抖动。 | 无直接反馈。依赖上层协议。核心网络根据DSCP标记进行优先级调度，隐式体现拥塞处理。 |
| **集成服务 (IntServ)** | 资源预留 (Resource Reservation) | 保证。通过RSVP协议为单个流预留所需带宽。 | 保证。在预留资源内，承诺极低的丢失率。 | 保证。属于同一预留流的数据包按序交付。 | 保证。承诺满足应用要求的有界延迟和抖动。 | 有显式反馈。接纳控制拒绝超出网络能力的请求，RSVP提供端到端的资源状态信息。 |